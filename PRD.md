```markdown
# PRD: AlphaForge - 동적 알파 팩터 분석 및 트레이딩 시그널 플랫폼

- **문서 버전**: 1.0
- **작성일**: 2025년 6월 30일
- **작성자**: AlphaForge 연구 개발팀

---

## 1. 개요 (Overview)

[cite_start]본 문서는 'AlphaForge: A Framework to Mine and Dynamically Combine Formulaic Alpha Factors' 논문에 기반한 동적 알파 팩터 분석 및 트레이딩 시그널 플랫폼의 제품 요구사항을 정의합니다[cite: 2]. [cite_start]이 프로젝트의 목표는 금융 시장 데이터의 낮은 신호 대 잡음비와 변동성에 대응하기 위해, 해석 가능하고 성능이 뛰어난 알파 팩터를 자동으로 발굴하고 시장 상황에 맞게 동적으로 결합하는 프레임워크를 구현하는 것입니다[cite: 13, 15, 46].

[cite_start]타겟 사용자는 퀀트 연구원, 애널리스트, 그리고 알고리즘 트레이딩 전략을 개발하는 개인 투자자입니다[cite: 849, 850].

## 2. 해결하고자 하는 문제 (Problem Statement)

기존의 알파 팩터 마이닝 및 활용 방식에는 다음과 같은 한계가 존재합니다.

- [cite_start]**고정된 팩터의 비효율성**: 한 번 발굴된 우수 팩터라도 시장 상황이 변하면 예측력이 저하되거나 심지어 역효과를 낼 수 있습니다[cite: 15, 43, 45].
- [cite_start]**정적 가중치의 한계**: 팩터들을 고정된 가중치로 결합하는 방식은 시시각각 변하는 시장의 동적인 특성에 신속하게 적응하기 어렵습니다[cite: 15, 194].
- [cite_start]**탐색의 어려움**: 유효한 알파 팩터가 존재하는 공간은 매우 방대하고 희소하여, 효율적인 탐색 기법 없이는 새로운 팩터를 발굴하기 어렵습니다[cite: 50, 344].

## 3. 제안하는 솔루션 (Proposed Solution)

이러한 문제를 해결하기 위해 논문에서 제안된 **AlphaForge 프레임워크**를 구현합니다. 이 프레임워크는 두 가지 핵심 단계로 구성됩니다.

![AlphaForge Framework](스크린샷 2025-06-30 오후 1.14.36.jpg)
[cite_start]*<p align="center">그림 1: AlphaForge 프레임워크 아키텍처 [cite: 188]</p>*

#### **솔루션 1: 생성-예측 모델 기반 팩터 마이닝 (그림 1-A)**

- [cite_start]딥러닝의 강력한 공간 탐색 능력을 활용하여 유효한 알파 팩터 공식을 자동으로 발굴합니다[cite: 17, 370].
- [cite_start]**생성기(Generator)**가 새로운 팩터 공식을 제안하고, **예측기(Predictor)**가 해당 공식의 예측력(Fitness)을 평가하는 생성-예측(Generative-Predictive) 신경망 구조를 사용합니다[cite: 91, 92].
- [cite_start]이 과정을 통해 예측력이 높고 상호 간섭이 적은(low correlation) 팩터들로 구성된 **'팩터 동물원(Factor Zoo)'**을 구축합니다[cite: 98, 208, 209].

#### **솔루션 2: 동적 알파 조합 모델 (그림 1-B)**

- [cite_start]시장의 시계열적 특성을 고려하여 '팩터 동물원'의 팩터들을 동적으로 결합합니다[cite: 93].
- [cite_start]**매일(daily)**, '팩터 동물원'에 있는 모든 팩터들의 최근 성과를 재평가하고, 성과가 우수한 팩터들만 필터링하여 후보군을 구성합니다[cite: 52, 190].
- [cite_start]선형 회귀 모델 등을 사용해 후보 팩터들에 대한 **동적 가중치**를 할당하고, 이를 하나의 최종 투자 신호인 **'메가 알파(Mega-Alpha)'**로 결합합니다[cite: 52, 200, 190].

## 4. 핵심 기능 요구사항 (Key Features)

#### **F1: 데이터 준비 및 관리**
- **F1.1**: 사용자는 분석하고자 하는 주식의 종목 코드와 기간을 입력할 수 있어야 한다.
- **F1.2**: `FinanceDataReader` 라이브러리를 통해 지정된 종목의 OHLCV(시가, 고가, 저가, 종가, 거래량) 데이터를 불러올 수 있어야 한다.
- **F1.3**: 불러온 데이터는 지정된 로컬 경로(`local_stock_data/`)에 CSV 파일 형태로 저장되어 재사용이 가능해야 한다.

#### **F2: 알파 팩터 마이닝 (시뮬레이션)**
- **F2.1**: 사용자는 '팩터 동물원 생성' 기능을 실행할 수 있어야 한다.
- **F2.2**: 기능 실행 시, 시스템은 미리 정의된 샘플 팩터 공식, 설명 등을 포함하는 '팩터 동물원' 데이터를 생성하고 화면에 테이블 형태로 표시해야 한다.
- **F2.3**: 생성된 팩터 동물원은 후속 단계(동적 조합)에서 사용할 수 있도록 세션 상태에 저장되어야 한다.

#### **F3: 동적 알파 조합 (시뮬레이션)**
- **F3.1**: 사용자는 '메가 알파 생성' 기능을 실행할 수 있어야 한다.
- **F3.2**: 기능 실행 시, 시스템은 F2 단계에서 생성된 팩터 동물원을 기반으로 아래의 과정을 시각적으로 시뮬레이션해야 한다.
    - **(a) 일일 팩터 평가 및 필터링**: 각 팩터에 임의의 최근 성과(IC)를 부여하고, 특정 기준을 통과한 팩터 목록을 표시한다.
    - **(b) 상위 팩터 선택**: 필터링된 팩터 중 성과가 가장 좋은 상위 N개(예: 5개)의 팩터 목록을 표시한다.
    - **(c) 동적 가중치 할당**: 선택된 팩터들에 임의의 가중치를 할당하고 그 결과를 테이블로 표시한다.
    - **(d) 최종 메가 알파 생성**: 최종 조합된 '메가 알파' 점수를 주요 주식들에 대해 막대 차트 형태로 시각화하여 보여준다.

#### **F4: 사용자 인터페이스 (Streamlit 기반)**
- **F4.1 (사이드바)**: 애플리케이션의 좌측 사이드바에는 '데이터 준비', '팩터 마이닝', '동적 조합'의 전체 실행 절차에 대한 설명이 단계별로 명시되어야 한다.
- **F4.2 (메인 화면)**:
    - AlphaForge 프레임워크의 전체 구조를 나타내는 이미지(그림 1)와 각 부분(A, B)에 대한 상세 설명을 포함하는 접이식 메뉴(Expander)를 제공해야 한다.
    - F1, F2, F3의 각 기능을 실행하고 결과를 확인할 수 있는 UI(버튼, 테이블, 차트 등)가 순서대로 배치되어야 한다.

## 5. 기술 스택 (Technology Stack)

- **프로그래밍 언어**: Python 3.8+
- **핵심 라이브러리**:
    - **UI/프로토타이핑**: Streamlit
    - **데이터 로딩**: FinanceDataReader
    - **데이터 처리**: Pandas, NumPy
    - **머신러닝/딥러닝**: PyTorch (팩터 마이닝 모델), Scikit-learn (동적 조합 모델)
    - [cite_start]**퀀트 분석**: Qlib (백테스팅 및 데이터 관리 프레임워크) [cite: 229]

## 6. 성공 지표 (Success Metrics)

- **1차 지표**: 생성된 '메가 알파' 신호를 기반으로 한 백테스팅 포트폴리오의 **누적 수익률**이 시장 벤치마크(예: KOSPI, S&P500)를 초과 달성.
- **2차 지표**:
    - [cite_start]**IC(%) 및 RankIC(%)**: 생성된 '메가 알파'의 정보 계수가 기존 방법론 대비 우수한가[cite: 245].
    - [cite_start]**샤프 지수 (Sharpe Ratio)**: 위험 대비 수익률이 안정적으로 높은가[cite: 1164].
    - [cite_start]**팩터 동물원의 품질**: 발굴된 팩터들이 평균적으로 높은 IC 값을 가지며, 팩터 간 상관관계가 낮아 다양성을 확보했는가[cite: 208].

## 7. 향후 확장 계획 (Future Scope)

- **자동화 파이프라인**: 본 데모의 시뮬레이션 기능을 실제 딥러닝 모델 및 데이터베이스와 연동하여 전체 프로세스를 자동화.
- **백테스팅 모듈 연동**: 생성된 '메가 알파'를 Qlib 백테스팅 엔진과 직접 연동하여 상세한 성과 분석 리포트(연평균 수익률, MDD 등)를 UI에 시각화.
- **사용자 커스텀 기능**: 사용자가 직접 팩터 마이닝의 하이퍼파라미터(목표 IC, 상관관계 임계값 등)를 설정하고 실행할 수 있는 기능 추가.
```
